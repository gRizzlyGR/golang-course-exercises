package word

import (
	"fmt"
	"testing"

	"github.com/grizzlygr/golang-course-exercises/ninja-level-13/exercise-2/quote"
)

func TestCount(t *testing.T) {
	type test struct {
		input    string
		expected int
	}

	testStrings := []test{
		test{"1 2 3", 3},
		test{"", 0},
		test{"1", 1},
		test{"Shaken not stirred", 3},
		test{"Tanto va la gatta al lardo che ci lascia lo zampino", 11},
		test{quote.SunAlso, 1349},
	}

	for _, testString := range testStrings {
		got := Count(testString.input)
		if got != testString.expected {
			t.Error("Expected", testString.expected, "Got", got)
		}
	}
}

func TestUseCount(t *testing.T) {
	type test struct {
		input    string
		expected int
	}

	testStrings := []test{
		test{"everything", 1},
		test{"having", 1},
		test{"and,", 2},
		test{"taken", 2},
		test{"miniature-painter.", 1},
		test{"gymnasium.", 1},
		test{"me", 2},
		test{"I'll", 1},
		test{"was", 32},
		test{"inferiority", 1},
		test{"gym.", 1},
		test{"kiosque", 1},
		test{"mother,", 1},
		test{"thinking", 1},
		test{"on:", 1},
		test{"good", 4},
		test{"Princeton,", 1},
		test{"gone", 1},
		test{"Versailles", 1},
		test{"fairly", 1},
		test{"cared", 1},
		test{"the", 49},
		test{"his", 20},
		test{"class", 1},
		test{"member,", 1},
		test{"first", 3},
		test{"off", 2},
		test{"aware", 1},
		test{"why", 2},
		test{"you,", 1},
		test{"leaving", 1},
		test{"go", 4},
		test{"although", 1},
		test{"coffee.", 1},
		test{"him,", 4},
		test{"year", 2},
		test{"team,", 1},
		test{"liked", 2},
		test{"_fines_", 1},
		test{"thought", 1},
		test{"gave", 1},
		test{"She's", 1},
		test{"corner", 1},
		test{"\"Good-night,", 1},
		test{"played", 3},
		test{"should", 3},
		test{"l'Avenue's", 1},
		test{"know", 4},
		test{"say", 1},
		test{"anybody", 2},
		test{"us", 3},
		test{"coffee,", 1},
		test{"couldn't", 1},
		test{"Jew,", 1},
		test{"came", 2},
		test{"be", 5},
		test{"do", 1},
		test{"writing.", 1},
		test{"walk.", 1},
		test{"comfort", 1},
		test{"become", 2},
		test{"father,", 1},
		test{"shy,", 1},
		test{"California,", 1},
		test{"sure", 1},
		test{"take", 1},
		test{"again", 1},
		test{"had", 31},
		test{"inner", 1},
		test{"hundred", 3},
		test{"two", 6},
		test{"wearing", 1},
		test{"regarded", 1},
		test{"novel,", 1},
		test{"Senlis", 1},
		test{"Cohn.", 3},
		test{"counteract", 1},
		test{"no", 2},
		test{"any", 3},
		test{"Jewish", 1},
		test{"years,", 2},
		test{"forceful,", 1},
		test{"it,", 2},
		test{"No", 1},
		test{"different", 1},
		test{"all", 2},
		test{"overmatched", 1},
		test{"table.", 1},
		test{"made", 4},
		test{"she", 6},
		test{"several", 1},
		test{"back", 2},
		test{"read", 2},
		test{"marry", 1},
		test{"wanted", 2},
		test{"champion", 1},
		test{"time,", 1},
		test{"Braddocks", 2},
		test{"happy,", 1},
		test{"America,", 1},
		test{"novel.", 1},
		test{"night", 1},
		test{"town", 1},
		test{"\"Well,", 1},
		test{"very", 8},
		test{"it", 14},
		test{"hold", 1},
		test{"said", 3},
		test{"trip.", 1},
		test{"table", 1},
		test{"Jew", 1},
		test{"feel", 1},
		test{"If", 1},
		test{"give", 1},
		test{"local", 1},
		test{"nice", 3},
		test{"write.", 1},
		test{"from", 3},
		test{"novel", 1},
		test{"Princeton", 2},
		test{"balance", 1},
		test{"became", 3},
		test{"available,", 1},
		test{"myself.", 1},
		test{"years", 2},
		test{"once", 1},
		test{"Princeton.", 3},
		test{"taught", 1},
		test{"saw", 2},
		test{"bridge,", 1},
		test{"\"why", 2},
		test{"end", 2},
		test{"done", 1},
		test{"people", 2},
		test{"kicked", 3},
		test{"doesn't", 1},
		test{"tennis,\"", 1},
		test{"boxing", 4},
		test{"Spider", 5},
		test{"child,", 1},
		test{"knows", 1},
		test{"face", 1},
		test{"verify", 1},
		test{"school", 1},
		test{"spent", 1},
		test{"allowance", 1},
		test{"all.\"", 1},
		test{"boxing,", 3},
		test{"prepped", 1},
		test{"most", 1},
		test{"magazine.", 1},
		test{"met", 1},
		test{"walk", 3},
		test{"their", 1},
		test{"friendly", 1},
		test{"Cerf", 1},
		test{"to", 36},
		test{"treated", 1},
		test{"thousand", 2},
		test{"said.", 4},
		test{"lady,", 1},
		test{"Strasbourg?", 1},
		test{"see", 3},
		test{"quite", 1},
		test{"gentlemen", 1},
		test{"months", 1},
		test{"merely", 1},
		test{"to-morrow", 1},
		test{"am", 1},
		test{"learned", 1},
		test{"they", 2},
		test{"took", 2},
		test{"come", 1},
		test{"will", 1},
		test{"shyness", 1},
		test{"Massachusetts.", 1},
		test{"careless", 1},
		test{"dined", 2},
		test{"sore.", 1},
		test{"spectacles.", 1},
		test{"dollars", 2},
		test{"left", 2},
		test{"wife;", 1},
		test{"absolute", 1},
		test{"show", 1},
		test{"relieved.", 1},
		test{"perhaps", 2},
		test{"Kelly.", 1},
		test{"woods", 1},
		test{"married", 2},
		test{"Carmel,", 1},
		test{"paper", 2},
		test{"\"It", 1},
		test{"led", 1},
		test{"him", 10},
		test{"mother", 3},
		test{"review", 2},
		test{"Arts.", 1},
		test{"something", 2},
		test{"whose", 1},
		test{"wrote", 1},
		test{"called", 1},
		test{"else,", 1},
		test{"found", 1},
		test{"must", 1},
		test{"sore.\"", 1},
		test{"Alsace.", 1},
		test{"nothing", 1},
		test{"In", 2},
		test{"remembered", 2},
		test{"unattractive", 1},
		test{"mould", 1},
		test{"among", 1},
		test{"magazine", 2},
		test{"Robert", 7},
		test{"fit", 1},
		test{"authority", 1},
		test{"rise,", 1},
		test{"Jake,\"", 1},
		test{"holding", 1},
		test{"Do", 1},
		test{"that", 22},
		test{"families", 1},
		test{"get", 6},
		test{"is", 3},
		test{"make", 1},
		test{"turned", 1},
		test{"like", 2},
		test{"face,", 1},
		test{"nose,", 1},
		test{"Café", 1},
		test{"did", 2},
		test{"an", 3},
		test{"her.", 2},
		test{"buy", 1},
		test{"\"Good,", 1},
		test{"We", 3},
		test{"not", 11},
		test{"rather", 3},
		test{"would", 4},
		test{"little", 2},
		test{"possession", 1},
		test{"living", 1},
		test{"lady's", 1},
		test{"fly", 1},
		test{"Didn't", 2},
		test{"There", 1},
		test{"star", 1},
		test{"got", 1},
		test{"too", 3},
		test{"name", 2},
		test{"girl.", 1},
		test{"of", 24},
		test{"where", 3},
		test{"decided", 1},
		test{"\"No,", 2},
		test{"\"let's", 1},
		test{"being", 3},
		test{"shy", 1},
		test{"nose", 1},
		test{"frightened", 1},
		test{"Senlis.\"", 1},
		test{"who", 7},
		test{"way", 1},
		test{"certain", 2},
		test{"featherweights,", 1},
		test{"one", 8},
		test{"cruel", 1},
		test{"going", 2},
		test{"years.", 1},
		test{"Bruges,", 1},
		test{"had,", 1},
		test{"finally", 1},
		test{"hence", 1},
		test{"advisory", 1},
		test{"exploitation", 1},
		test{"going.", 1},
		test{"fifty", 2},
		test{"sole", 1},
		test{"through", 2},
		test{"New", 1},
		test{"leave", 1},
		test{"Grand", 1},
		test{"so", 2},
		test{"suspicion", 1},
		test{"somebody", 1},
		test{"under", 3},
		test{"woman.", 1},
		test{"books,", 1},
		test{"five", 3},
		test{"something,", 1},
		test{"editing.", 1},
		test{"critics", 1},
		test{"Frances?\"", 2},
		test{"young", 2},
		test{"permanently", 1},
		test{"into", 2},
		test{"Jake?\"", 1},
		test{"except", 2},
		test{"military", 1},
		test{"accidental", 1},
		test{"\"Oh,", 1},
		test{"fact", 1},
		test{"certainly", 1},
		test{"somewhere", 2},
		test{"courts,\"", 1},
		test{"maybe", 1},
		test{"painful", 1},
		test{"Coast.", 1},
		test{"editor.", 1},
		test{"good-night", 1},
		test{"\"That's", 1},
		test{"Cohn", 12},
		test{"weighed", 1},
		test{"satisfaction", 1},
		test{"seen", 1},
		test{"editorial", 1},
		test{"swell", 1},
		test{"chin", 1},
		test{"Ardennes.\"", 1},
		test{"hell", 1},
		test{"sore,", 1},
		test{"much", 2},
		test{"frank", 1},
		test{"went", 6},
		test{"second", 1},
		test{"again.", 1},
		test{"strange", 1},
		test{"mistrust", 1},
		test{"hardening.", 1},
		test{"matter", 1},
		test{"him.", 3},
		test{"mind", 1},
		test{"divorce", 1},
		test{"tennis", 1},
		test{"café", 1},
		test{"travel,", 1},
		test{"many", 2},
		test{"I", 25},
		test{"feeling", 1},
		test{"fell", 1},
		test{"When", 1},
		test{"disgusted", 1},
		test{"Europe,", 3},
		test{"\"I'm", 1},
		test{"Kelly", 2},
		test{"still", 2},
		test{"short", 1},
		test{"sorry", 1},
		test{"domestic", 1},
		test{"As", 1},
		test{"town,\"", 1},
		test{"paper,\"", 1},
		test{"and", 51},
		test{"sort,", 1},
		test{"commenced", 1},
		test{"things", 1},
		test{"your", 1},
		test{"promptly", 1},
		test{"oldest.", 1},
		test{"purely", 1},
		test{"evidently", 1},
		test{"by", 3},
		test{"lot", 1},
		test{"They", 2},
		test{"finished", 1},
		test{"She", 1},
		test{"at", 10},
		test{"fought", 1},
		test{"flattened.", 1},
		test{"Cohn's", 1},
		test{"bumped", 1},
		test{"lost", 1},
		test{"left,", 1},
		test{"month.", 1},
		test{"be?\"", 1},
		test{"another", 1},
		test{"have", 1},
		test{"\"See", 1},
		test{"but", 4},
		test{"he", 30},
		test{"although,", 1},
		test{"well", 1},
		test{"By", 2},
		test{"impressed", 1},
		test{"increased", 1},
		test{"always", 1},
		test{"York,", 1},
		test{"bitter.", 1},
		test{"with", 8},
		test{"California", 1},
		test{"disliked", 1},
		test{"rise", 1},
		test{"remember", 1},
		test{"At", 1},
		test{"urged", 1},
		test{"out.", 1},
		test{"God's", 1},
		test{"for", 5},
		test{"estate", 1},
		test{"de", 1},
		test{"hike", 1},
		test{"are", 2},
		test{"expensive", 1},
		test{"this", 2},
		test{"boy,", 3},
		test{"champion,", 1},
		test{"literary", 2},
		test{"determination", 1},
		test{"said,", 4},
		test{"café.", 1},
		test{"\"For", 1},
		test{"middleweight", 3},
		test{"fast.", 1},
		test{"publication", 1},
		test{"Cohn,", 1},
		test{"angel,", 1},
		test{"while", 1},
		test{"toward", 3},
		test{"difference.", 1},
		test{"page", 1},
		test{"though,", 1},
		test{"\"I", 1},
		test{"stayed", 1},
		test{"me.", 1},
		test{"silly.\"", 1},
		test{"Kelly's", 1},
		test{"pupil.", 1},
		test{"champion.", 1},
		test{"you", 5},
		test{"looking,", 1},
		test{"nose.", 1},
		test{"out", 4},
		test{"rich", 1},
		test{"money", 1},
		test{"This", 1},
		test{"wife", 2},
		test{"Paris,", 1},
		test{"lifting", 1},
		test{"believe", 1},
		test{"walked", 1},
		test{"only", 1},
		test{"wondered", 1},
		test{"self-consciousness", 1},
		test{"other", 2},
		test{"Frances.", 1},
		test{"all.", 1},
		test{"snooty", 1},
		test{"unhappiness", 1},
		test{"lady", 4},
		test{"together.", 1},
		test{"I?", 1},
		test{"there", 4},
		test{"lives", 1},
		test{"down", 1},
		test{"because", 1},
		test{"loved", 1},
		test{"Robert's", 2},
		test{"bad", 1},
		test{"boxed", 1},
		test{"ever", 1},
		test{"Also", 1},
		test{"attitude", 2},
		test{"changed", 1},
		test{"thoroughly", 2},
		test{"whether", 1},
		test{"hardened", 1},
		test{"departure", 1},
		test{"appeared", 1},
		test{"or", 7},
		test{"shock.", 1},
		test{"these", 1},
		test{"such", 1},
		test{"suggested", 1},
		test{"American", 1},
		test{"stay", 1},
		test{"board,", 1},
		test{"hoped", 1},
		test{"we", 2},
		test{"\"You", 3},
		test{"meant", 1},
		test{"some", 1},
		test{"together,", 1},
		test{"story", 1},
		test{"what", 3},
		test{"poor", 1},
		test{"sake,\"", 1},
		test{"don't", 1},
		test{"that,", 1},
		test{"afterward", 1},
		test{"girl.\"", 1},
		test{"been", 9},
		test{"\"Hell,\"", 1},
		test{"He", 16},
		test{"could", 3},
		test{"so.\"", 1},
		test{"a", 39},
		test{"settled", 1},
		test{"felt", 1},
		test{"especially", 1},
		test{"stepped", 1},
		test{"backing", 1},
		test{"friend.", 2},
		test{"after", 2},
		test{"tennis,", 1},
		test{"started", 1},
		test{"people,", 1},
		test{"horse", 1},
		test{"deprive", 1},
		test{"time", 3},
		test{"hand", 1},
		test{"friends,", 1},
		test{"box", 1},
		test{"seemed", 1},
		test{"children,", 1},
		test{"about", 5},
		test{"for?", 1},
		test{"knowing", 1},
		test{"pounds.", 1},
		test{"often", 1},
		test{"himself,", 1},
		test{"about.", 1},
		test{"Saint", 1},
		test{"corner.", 1},
		test{"as", 8},
		test{"even", 1},
		test{"football", 1},
		test{"discovered", 2},
		test{"stories", 1},
		test{"up", 4},
		test{"Provincetown,", 1},
		test{"might", 1},
		test{"on", 6},
		test{"distaste", 1},
		test{"flattened", 1},
		test{"were", 1},
		test{"going,", 1},
		test{"Strasbourg", 4},
		test{"last", 2},
		test{"simple", 1},
		test{"three", 5},
		test{"hand.", 2},
		test{"can", 2},
		test{"\"She's", 1},
		test{"well,\"", 1},
		test{"painfully", 1},
		test{"improved", 1},
		test{"The", 3},
		test{"educated,", 1},
		test{"looked", 2},
		test{"town.", 1},
		test{"looked?\"", 1},
		test{"father", 1},
		test{"healthful", 1},
		test{"Somebody", 1},
		test{"watched", 1},
		test{"knock", 1},
		test{"richest", 1},
		test{"forgot", 1},
		test{"never", 4},
		test{"just", 1},
		test{"Odile,", 1},
		test{"fine.\"", 1},
		test{"\"Don't", 2},
		test{"title,", 1},
		test{"when", 3},
		test{"race-conscious.", 1},
		test{"It", 1},
		test{"chance", 1},
		test{"half", 1},
		test{"weekend", 1},
		test{"paper.", 1},
		test{"think", 1},
		test{"arranged", 1},
		test{"later", 1},
		test{"life.", 1},
		test{"go,", 1},
		test{"maybe,", 1},
		test{"girl", 5},
		test{"member", 1},
		test{"up.", 1},
		test{"worry", 1},
		test{"During", 3},
		test{"Any", 2},
		test{"place", 1},
		test{"in", 21},
		test{"really", 2},
		test{"home.\"", 1},
		test{"Frances,", 2},
		test{"talking", 1},
		test{"But", 1},
		test{"until", 1},
		test{"her", 7},
		test{"looks", 1},
	}

	quoteMap := UseCount(quote.SunAlso)

	for _, testString := range testStrings {
		count := quoteMap[testString.input]
		if count != testString.expected {
			t.Error("Expected", testString.expected, "Got", count)
		}
	}
}

func BenchmarkCount(b *testing.B) {
	for i := 0; i < b.N; i++ {
		Count(quote.SunAlso)
	}
}

func BenchmarkUseCount(b *testing.B) {
	for i := 0; i < b.N; i++ {
		UseCount(quote.SunAlso)
	}
}

func ExampleCount() {
	fmt.Println(Count("one two three"))
	// Output:
	// 3
}
